<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADAS MCU: CMotorCtrl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="hs_bhv_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADAS MCU
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">Documentation of the Motor Control Unit (MCU) of the ADAS project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_c_motor_ctrl.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_c_motor_ctrl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CMotorCtrl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Motor Control Unit Class.  
 <a href="class_c_motor_ctrl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_app___motor_ctrl_8h_source.html">App_MotorCtrl.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CMotorCtrl:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 0 -->
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa0093ebb4e0da5e22f829f717762a487"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#aa0093ebb4e0da5e22f829f717762a487">CMotorCtrl</a> (<a class="el" href="class_c_i_m_u_unit.html">CIMUUnit</a> &amp;<a class="el" href="_a_d_a_s___m_c_u_8ino.html#ae51e36f83228f859afeb8a72e60339a6">imu_o</a>, <a class="el" href="class_c_p_w_m_unit.html">CPWMUnit</a> &amp;<a class="el" href="_a_d_a_s___m_c_u_8ino.html#a10a570a59ef56c08699c4fec61d47d16">pwmUnitLeft_o</a>, <a class="el" href="class_c_p_w_m_unit.html">CPWMUnit</a> &amp;<a class="el" href="_a_d_a_s___m_c_u_8ino.html#a49af1ef8724d9cb785e37641bb0cdc6b">pwmUnitRight_o</a>, <a class="el" href="class_c_i_c_c_comms.html">CICCComms</a> &amp;<a class="el" href="_a_d_a_s___m_c_u_8ino.html#a62ef6b3308259edb69af585549178324">iccComms_o</a>)</td></tr>
<tr class="memdesc:aa0093ebb4e0da5e22f829f717762a487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a>.  <a href="#aa0093ebb4e0da5e22f829f717762a487">More...</a><br /></td></tr>
<tr class="separator:aa0093ebb4e0da5e22f829f717762a487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e5fbdf11c6562a7895cf4079003132"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#a97e5fbdf11c6562a7895cf4079003132">~CMotorCtrl</a> ()</td></tr>
<tr class="memdesc:a97e5fbdf11c6562a7895cf4079003132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desctructor of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a>.  <a href="#a97e5fbdf11c6562a7895cf4079003132">More...</a><br /></td></tr>
<tr class="separator:a97e5fbdf11c6562a7895cf4079003132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b1bec8e07e766aa2537d966f025e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#af4b1bec8e07e766aa2537d966f025e7a">Init</a> (void)</td></tr>
<tr class="memdesc:af4b1bec8e07e766aa2537d966f025e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization function of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a>.  <a href="#af4b1bec8e07e766aa2537d966f025e7a">More...</a><br /></td></tr>
<tr class="separator:af4b1bec8e07e766aa2537d966f025e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e5dd36be027fe8a5e1acee5c1322c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#a63e5dd36be027fe8a5e1acee5c1322c8">Run</a> (void)</td></tr>
<tr class="memdesc:a63e5dd36be027fe8a5e1acee5c1322c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run function of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> which is executed in every loop.  <a href="#a63e5dd36be027fe8a5e1acee5c1322c8">More...</a><br /></td></tr>
<tr class="separator:a63e5dd36be027fe8a5e1acee5c1322c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee991f9511437a2e64ee75161063020"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#a1ee991f9511437a2e64ee75161063020">startRotation</a> (<a class="el" href="_a_d_a_s___types_8h.html#ae4c9b951dbb7355563c313abca5e2e75">sint16_t</a> angle)</td></tr>
<tr class="memdesc:a1ee991f9511437a2e64ee75161063020"><td class="mdescLeft">&#160;</td><td class="mdescRight">API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to start a rotation.  <a href="#a1ee991f9511437a2e64ee75161063020">More...</a><br /></td></tr>
<tr class="separator:a1ee991f9511437a2e64ee75161063020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae095bb6003ee63086361661f32ad3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#a0ae095bb6003ee63086361661f32ad3a">setDistance</a> (<a class="el" href="_a_d_a_s___types_8h.html#ae4c9b951dbb7355563c313abca5e2e75">sint16_t</a> dist)</td></tr>
<tr class="memdesc:a0ae095bb6003ee63086361661f32ad3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to start driving.  <a href="#a0ae095bb6003ee63086361661f32ad3a">More...</a><br /></td></tr>
<tr class="separator:a0ae095bb6003ee63086361661f32ad3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6d49d9b407e46aad0abe84bcaf16ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#a5c6d49d9b407e46aad0abe84bcaf16ec">setPISetpoint</a> (<a class="el" href="_a_d_a_s___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> setpnt)</td></tr>
<tr class="memdesc:a5c6d49d9b407e46aad0abe84bcaf16ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to set a speed for the motors.  <a href="#a5c6d49d9b407e46aad0abe84bcaf16ec">More...</a><br /></td></tr>
<tr class="separator:a5c6d49d9b407e46aad0abe84bcaf16ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e047be659fb9f49f1644ba2eca4684"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#af3e047be659fb9f49f1644ba2eca4684">pauseDrive</a> (void)</td></tr>
<tr class="memdesc:af3e047be659fb9f49f1644ba2eca4684"><td class="mdescLeft">&#160;</td><td class="mdescRight">API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to pause the current action of the motor control.  <a href="#af3e047be659fb9f49f1644ba2eca4684">More...</a><br /></td></tr>
<tr class="separator:af3e047be659fb9f49f1644ba2eca4684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b67180c355c2acf76d641f2817db66d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_motor_ctrl.html#a6b67180c355c2acf76d641f2817db66d">contDrive</a> (void)</td></tr>
<tr class="memdesc:a6b67180c355c2acf76d641f2817db66d"><td class="mdescLeft">&#160;</td><td class="mdescRight">API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to continue the previously paused action of the motor control.  <a href="#a6b67180c355c2acf76d641f2817db66d">More...</a><br /></td></tr>
<tr class="separator:a6b67180c355c2acf76d641f2817db66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Motor Control Unit Class. </p>
<p>Class declaration for motor control </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8h_source.html#l00040">40</a> of file <a class="el" href="_app___motor_ctrl_8h_source.html">App_MotorCtrl.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa0093ebb4e0da5e22f829f717762a487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0093ebb4e0da5e22f829f717762a487">&#9670;&nbsp;</a></span>CMotorCtrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CMotorCtrl::CMotorCtrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_i_m_u_unit.html">CIMUUnit</a> &amp;&#160;</td>
          <td class="paramname"><em>imu_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_p_w_m_unit.html">CPWMUnit</a> &amp;&#160;</td>
          <td class="paramname"><em>pwmUnitLeft_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_p_w_m_unit.html">CPWMUnit</a> &amp;&#160;</td>
          <td class="paramname"><em>pwmUnitRight_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_i_c_c_comms.html">CICCComms</a> &amp;&#160;</td>
          <td class="paramname"><em>iccComms_o</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a>. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00027">27</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>

</div>
</div>
<a id="a97e5fbdf11c6562a7895cf4079003132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e5fbdf11c6562a7895cf4079003132">&#9670;&nbsp;</a></span>~CMotorCtrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CMotorCtrl::~CMotorCtrl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Desctructor of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a>. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00041">41</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6b67180c355c2acf76d641f2817db66d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b67180c355c2acf76d641f2817db66d">&#9670;&nbsp;</a></span>contDrive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::contDrive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to continue the previously paused action of the motor control. </p>
<p>Function sets the pause variable to false and the motor control will continue with the present action. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00407">407</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 1 -->
</div>
</div>

</div>
</div>
<a id="af4b1bec8e07e766aa2537d966f025e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b1bec8e07e766aa2537d966f025e7a">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization function of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a>. </p>
<p>Function set up the PWM signal, the IMU, initializes the stateflow, and initiaizes the encoder interrupts. Furthermore a timer is activated which reads out the counted peaks of the encoders every 150ms. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00050">50</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 2 -->
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 3 -->
</div>
</div>

</div>
</div>
<a id="af3e047be659fb9f49f1644ba2eca4684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e047be659fb9f49f1644ba2eca4684">&#9670;&nbsp;</a></span>pauseDrive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::pauseDrive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to pause the current action of the motor control. </p>
<p>Function stops the DC motors and set a pause variable to true. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00378">378</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 4 -->
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 5 -->
</div>
</div>

</div>
</div>
<a id="a63e5dd36be027fe8a5e1acee5c1322c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e5dd36be027fe8a5e1acee5c1322c8">&#9670;&nbsp;</a></span>Run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::Run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run function of <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> which is executed in every loop. </p>
<p>The function checks if the motor control stateflow is valid. If yes it is reading out the gyro sensor and performs a stateflow calculation. If the H-bridge is enabled and the start button was pressed it checks for the current state and runs the PI control. At the end of the function the timer for the readout function of the encoder is updated. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00090">90</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 6 -->
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 7 -->
</div>
</div>

</div>
</div>
<a id="a0ae095bb6003ee63086361661f32ad3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae095bb6003ee63086361661f32ad3a">&#9670;&nbsp;</a></span>setDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::setDistance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_d_a_s___types_8h.html#ae4c9b951dbb7355563c313abca5e2e75">sint16_t</a>&#160;</td>
          <td class="paramname"><em>dist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to start driving. </p>
<p>The function calculates from the transmitted distance in cm, the peaks which have to be summed up to reach the distance. The summation of all peaks are resetted and the turn variable is set to zero. Then the function checks if the distance value of the stateflow was setted previously and if the transmitted distance value is negative or positive. If the setted value is positive and the transmitted one is negative a state change from forward drive to backward drive must be performed. Same if the setted value is negative and the transmitted one is positive. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00336">336</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 8 -->
</div>
</div>

</div>
</div>
<a id="a5c6d49d9b407e46aad0abe84bcaf16ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c6d49d9b407e46aad0abe84bcaf16ec">&#9670;&nbsp;</a></span>setPISetpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::setPISetpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_d_a_s___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>setpnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to set a speed for the motors. </p>
<p>Function checks first if the desired speed is too high. If the transmitted setpoint is ok it is converted from mm/s into peaks per 150ms. Then the setpoint of the PI controllers setpoint is changed to this value. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00389">389</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>

</div>
</div>
<a id="a1ee991f9511437a2e64ee75161063020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee991f9511437a2e64ee75161063020">&#9670;&nbsp;</a></span>startRotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMotorCtrl::startRotation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_d_a_s___types_8h.html#ae4c9b951dbb7355563c313abca5e2e75">sint16_t</a>&#160;</td>
          <td class="paramname"><em>angle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API Function of the <a class="el" href="class_c_motor_ctrl.html" title="Motor Control Unit Class.">CMotorCtrl</a> to start a rotation. </p>
<p>The function sets the turn variable of the motor control stateflow to the transmitted angle and the distance to zero. A negative angle would cause a rotation to the left and a positive angle would cause a rotation to the right. </p>

<p class="definition">Definition at line <a class="el" href="_app___motor_ctrl_8cpp_source.html#l00322">322</a> of file <a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 9 -->
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_app___motor_ctrl_8h_source.html">App_MotorCtrl.h</a></li>
<li><a class="el" href="_app___motor_ctrl_8cpp_source.html">App_MotorCtrl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_c_motor_ctrl.html">CMotorCtrl</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
